 <script>
       function validateform()
       {
       	var flag=true;
       	$.each($('.inputname'), function() {
    		if(flag && $.trim($(this).val()) == "")	{	
    			flag=false;
    		}
    		
       });
       if(flag)
       	 return true;
       else
       {
       	 alert("Please Fill all the names");
       	 return false;
       }
       }
   
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<style>

#table1 th, #table1 td {
  padding: "5px" !important;
  text-align: center;
}
</style>
<%= form_for(@passenger, url: {controller:"passengers", action: "create"}, format: :csv, html: { :onsubmit =>" return validateform()" }) do |f| %>
<center><h1><img src="http://www.cacheglobalservicescompany.com.co/images/931.png" />Enter Passenger Details</h1>

<table id="table1">
  <tr>
    <th>S. No</th>
    <th>Name</th>
    <th>Age</th>
  </tr>
<% index = 1 
   while(index <= tcount.to_f) %>
  <tr>
    <td><%= index %></td>
    <td><input class="inputname" type="text" name="name[]" /></td>
    <td><input type="number" min="1" max="99" value="18" name="age[]" /></td>
  </tr>
<% 
index+=1
end %>

<input type="hidden" name="date" value="<%= jdate%>" />
<input type="hidden" name="route" value="<%= routeid%>" />
<input type="hidden" name="count" value="<%= tcount%>"

<tr><td colspan="3" align="center"> <%= f.submit "Book Ticket", class: "btn btn-primary" %></td></tr>

<% end %>
</table>
</center>